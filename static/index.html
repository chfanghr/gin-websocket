<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>DEMO PAGE</title>
</head>

<body>
<pre id="output"></pre>

<script>
    class RawMessage {
        constructor(msg) {
            this.message = msg;
        }

        jsonMessage() {
            return JSON.stringify(this);
        }
    }

    class Message {
        constructor(jsonMessage) {
            let parsedObj = JSON.parse(jsonMessage);
            this.raw = parsedObj.raw;
            this.uid = parsedObj.uid;
            this.timestamp = parsedObj.timestamp;
        }
    }


    url = "ws://" + window.location.host + "/ws"
    c = new WebSocket(url);

    // send = function (data) {
    //     $("#output").append((new Date()) + " ==> " + data + "\n")
    //     c.send(data)
    //
    // }
    //
    // c.onmessage = function (msg) {
    //     $("#output").append((new Date()) + " <== " + ms  g.data + "\n")
    //     console.log(msg)
    // }
    //
    // c.onopen = function () {
    //     setInterval(
    //         function () {
    //             send("ping")
    //         }
    //         , 1000)
    // }
</script>

</body>
</html>